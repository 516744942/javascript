<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>内存</title>
</head>

<body>


    <script>
        /**
         * 内存泄漏
         * 意外申明
         * 解决方案 加上var let 或者const 关键词即可
         */
        // 做好不要这样
        function setName(params) {
            var name = params
        }
        setName(123111)
        console.log(name)
            //
            /**
             *  定时器也会悄悄地导致内存泄漏
             *  定时器的回调通过闭包 引用了外部变量
             *  回调中的name就会一直占用内存 因此就不会清楚外部变量
             */
            // 做好不好这样
        let name1 = 'jake';
        setInterval(() => {
            console.log(name1)
        }, 1000);
        /**
         * 闭包造成的内存泄漏
         * 导致内存泄漏 只要outer函数存在就不能清理name
         * 因为闭包一直在引用着它
         * 如果name内容很大,可能就是个大问题
         * 
         */
        let outer = function(params) {
            let name = 'jake';
            return function() {
                return name
            }
        };
        /**
         * 静态分配和对象池
         */
    </script>

</body>

</html>