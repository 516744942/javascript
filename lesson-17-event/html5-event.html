<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5-事件</title>
</head>

<body>
    <script>
        /**
         * contextmenu事件
         */
    </script>
    <script>
        /**
         * beforeunload事件
         */
        addEventListener('beforeunload', function(event) {
            let message = `I'm really going to miss you if you go`;
            event.returnValue = message; //IE和FireFox
            return message //  chrome 
        });
    </script>
    <script>
        /**
         * DOMContentLoaded 事件(DOM或者window添加事件处理程序) 会冒泡到window
         * 会在DOM树构建完成之后立即触发,而不用等待图片javaScript文件,CSS文件或其他资源加载完成
         */
        addEventListener('DOMContentLoaded', function(event) {
            console.log('content loaded')
        });
    </script>

    <script>
        /**
         * readystatechange 事件
         * uninitialized   对象存在并尚未初始化
         * loading   对象正在加载数据
         * loaded    对象正在加载数据
         * interactive    对象可以交互,但尚未加载完成
         * complete    对象加载完成
         */
        addEventListener("readystatechange", (event) => {
            console.log('event', event)
            if (document.readyState == 'interactive') {
                console.log(1123)
            }
        });
    </script>
    <script>
        /**
         * pageshow和pagehide事件
         * 
         */
        (function() {
            let showCount = 0
            window.addEventListener('load', () => {
                console.log('load fired')
            })
            window.addEventListener('pageshow', (event) => {
                console.log('event', event)
                showCount++
                console.log('show', showCount)
            })
            window.addEventListener('pagehide', () => {
                showCount++
                console.log('hide', showCount)
            })
        })()
    </script>
    <script>
        /**
         * hashchange 事件
         * 用于在URL散列值 
         * oldURL和newURL两个新属性
         * 
         */
        addEventListener('hashchange', (event) => {
            console.log('event', event.oldURL)
            console.log('event', event.newURL)
            console.log('event', location.hash)
        });
    </script>
</body>

</html>